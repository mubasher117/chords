
{% extends "songs/base.html" %}
{% block content %}
{% load static %}
    <!-- ##### Hero Area Start ##### -->
    <section class="hero-area">
        <div class="hero-slides owl-carousel">
            <!-- Single Hero Slide -->
            <div class="single-hero-slide d-flex align-items-center justify-content-center">
                <!-- Slide Img -->
                <div class="slide-img bg-img" style="background-image: url({% static 'img/bg-img/bg-4.jpg' %});"></div>
                <!-- Slide Content -->
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="hero-slides-content text-center">
                                <h6 data-animation="fadeInUp" data-delay="100ms">Recommended Songs</h6>
                                <h2 data-animation="fadeInUp" data-delay="300ms">Blues Music <span>Blues Music</span></h2>
                                <a data-animation="fadeInUp" data-delay="500ms" href="{% url 'songs' %}" class="btn oneMusic-btn mt-50">Discover <i class="fa fa-angle-double-right"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Single Hero Slide -->
            <div class="single-hero-slide d-flex align-items-center justify-content-center">
                <!-- Slide Img -->
                <div class="slide-img bg-img" style="background-image: url({% static 'img/bg-img/bg-3.jpg' %});"></div>
                <!-- Slide Content -->
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="hero-slides-content text-center">
                                <h6 data-animation="fadeInUp" data-delay="100ms">Recommended Songs</h6>
                                <h2 data-animation="fadeInUp" data-delay="300ms">Hip hop Music <span>Hip hop Music</span></h2>
                                <a data-animation="fadeInUp" data-delay="500ms" href="{% url 'songs' %}" class="btn oneMusic-btn mt-50">Discover <i class="fa fa-angle-double-right"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Hero Area End ##### -->

    <!-- ##### Latest Albums Area Start ##### -->
    <section class="latest-albums-area section-padding-100">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading style-2">
                        <p>See what’s recommended</p>
                        <h2>Recommended Songs</h2>
                        <p>By Genre</p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-lg-9">
                    <div class="ablums-text text-center mb-70">
                        <p>These songs are recommended songs genres that you are frequently playing. </p>
                    </div>
                </div>
            </div>
            {% if message == False %}
            <div class="text-center col-12">
                <a href="{% url 'login' %}">
                <h4>Login to see the recommendations and personalized playlists</h4>
            </a>
            </div>
            {% else %} 
            <div class="row">
                <div class="col-12">
                    <div class="albums-slideshow owl-carousel">
                        <!-- Single Album -->
                        {% for r in recommendations %}
                        <div class="single-album">
                            <img src="{{MEDIA_URL}}{{r.image.url}}" alt="">
                            <div class="album-info">
                                <a href="{% url 'playSong' 'song' r.tittle %}">
                                    <h5>{{r.tittle}}</h5>
                                </a>
                                <p>{{r.album}}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </section>
    <section class="latest-albums-area section-padding-100">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading style-2">
                        <p>See what’s recommended</p>
                        <h2>Recommended Songs</h2>
                        <p>By History</p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-lg-9">
                    <div class="ablums-text text-center mb-70">
                        <p>These songs are recommended on your previous listening history. </p>
                    </div>
                </div>
            </div>
            {% if message == False %}
            <div class="text-center col-12">
                <a href="{% url 'login' %}">
                <h4>Login to see the recommendations and personalized playlists</h4>
            </a>
            </div>
            {% else %} 
            <div class="row">
                <div class="col-12">
                    <div class="albums-slideshow owl-carousel">
                        <!-- Single Album -->
                        {% for r in usersongshistory %}
                        <div class="single-album">
                            <img src="{{MEDIA_URL}}{{r.image.url}}" alt="">
                            <div class="album-info">
                                <a href="{% url 'playSong' 'song' r.tittle %}">
                                    <h5>{{r.tittle}}</h5>
                                </a>
                                <p>{{r.album}}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </secti

    <!-- ##### Buy Now Area Start ##### -->
    {% if message == True %}
    <section class="oneMusic-buy-now-area has-fluid bg-gray section-padding-100">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading style-2">
                        <p>See your playlists</p>
                        <h2>Personalized Platlists</h2>
                    </div>
                </div>
            </div>

            <div class="row">

                <!-- Single Album Area -->
                {% if playlists|length == 0 %}
                <div class="text-center col-12">
                    <h2>There are no playlists</h2>
                </div>
                {% else %} 
                {% for playlist in playlists %}
                <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                    <div class="single-album-area wow fadeInUp" data-wow-delay="200ms">
                        <div class="album-thumb">
                            <img src="{% static 'img/bg-img/b2.jpg' %}" alt="">
                        </div>
                        <div class="album-info">
                            <a href="#">
                                <h5>{{playlist.name}}</h5>
                            </a>
                            <a href="{% url 'playSong' 'playlist' playlist.name %}" class="btn see-more-btn">Play</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
            </div>
<!-- 
            <div class="row">
                <div class="col-12">
                    <div class="load-more-btn text-center wow fadeInUp" data-wow-delay="300ms">
                        <a href="#" class="btn oneMusic-btn">Load More <i class="fa fa-angle-double-right"></i></a>
                    </div>
                </div>
            </div> -->
        </div>
    </section>
    <!-- ##### Buy Now Area End ##### -->

    <!-- ##### Featured Artist Area Start ##### -->
    <section class="featured-artist-area section-padding-100 bg-img bg-overlay bg-fixed" style="background-image: url({% static 'img/bg-img/bg-4.jpg' %});">
        <div class="container">
            <div class="row align-items-end">
                <div class="col-12 col-md-5 col-lg-4">
                    <div class="featured-artist-thumb">
                        <img src="{% static 'img/bg-img/s3.jpg' %}" alt="">
                    </div>
                </div>
                <div class="col-12 col-md-7 col-lg-8">
                    <div class="featured-artist-content">
                        <!-- Section Heading -->
                        <div class="section-heading white text-left mb-30">
                            <p>Listen Songs endlessly</p>
                            <h2>Featured Playlist</h2>
                        </div>
                        <p>According to the analysis based on data from Billboard's Hot 100 music chart and genres that we have classified, songs featured in chords are</p>
                        <div class="song-play-area">
                            <div class="song-name">
                                <p>01. Rokstar, Post Malone</p>
                            </div>
                            <audio preload="auto" controls>
                                <source src="{% static 'audio/dummy-audio.mp3' %}">
                            </audio>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Featured Artist Area End ##### -->

    <!-- ##### Miscellaneous Area Start ##### -->
    <section class="miscellaneous-area section-padding-100-0">
        <div class="container">
            <div class="row">
                <!-- ***** Weeks Top ***** -->
                <div class="col-12 col-lg-4">
                    <div class="weeks-top-area mb-100">
                        <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                            <h2>Recently Uploaded </h2>
                        </div>

                        {% for song in recentSongs %}
                        <!-- Single Top Item -->
                        <div class="single-top-item d-flex wow fadeInUp" data-wow-delay="150ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/wt2.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <a href="{% url 'playSong' 'song' song.tittle %}">
                                <h6>{{song.tittle}}</h6>
                                <p>{{song.album}}</p>
                            </a>
                            </div>
                        </div>
                        {% endfor %}

                    </div>
                </div>

                <!-- ***** New Hits Songs ***** -->
                <div class="col-12 col-lg-4">
                    <div class="new-hits-area mb-100">
                        <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                            <h2>Songs You Previously listened</h2>
                        </div>

                        {% for song in usersongshistory %}
                        <div class="single-new-item d-flex align-items-center justify-content-between wow fadeInUp" data-wow-delay="100ms">
                            <div class="first-part d-flex align-items-center">
                                <div class="thumbnail">
                                    <img src="{% static 'img/bg-img/wt7.jpg' %}" alt="">
                                </div>
                                <div class="content-">
                                        <h6>{{song.tittle}}</h6>
                                        <p>{{song.album}}</p>
                                </div>
                            </div>
                            <audio preload="auto" controls>
                                <source type="audio/mp3" src="{{MEDIA_URL}}{{song.songFile.url}}">
                            </audio>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- ***** Popular Artists ***** -->
                <div class="col-12 col-lg-4">
                    <div class="popular-artists-area mb-100">
                        <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                            <h2>Popular Artists</h2>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="100ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa1.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>Sam Smith</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="150ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa2.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>William Parker</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="200ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa3.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>Jessica Walsh</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="250ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa4.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>Tha Stoves</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="300ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa5.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>DJ Ajay</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="350ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa6.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>Radio Vibez</p>
                            </div>
                        </div>

                        <!-- Single Artist -->
                        <div class="single-artists d-flex align-items-center wow fadeInUp" data-wow-delay="400ms">
                            <div class="thumbnail">
                                <img src="{% static 'img/bg-img/pa7.jpg' %}" alt="">
                            </div>
                            <div class="content-">
                                <p>Music 4u</p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}
    <!-- ##### Miscellaneous Area End ##### -->

    {% endblock %}